{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport bookService from \"../bookService\";\nconst initialState = {\n  books: \"\",\n  isLoading: false,\n  isError: false,\n  isSuccess: false,\n  message: \"\"\n};\nexport const push = createAsyncThunk(\"book/push\", async (book, thunkAPI) => {\n  try {\n    const token = thunkAPI.getState().auth.user.token;\n    return await bookService.push(book, token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const bookSlice = createSlice({\n  name: \"book\",\n  initialState,\n  reducers: {\n    reset: () => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(push.pending, state => {\n      state.isLoading = true;\n    }).addCase(push.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.books.push(action.payload);\n    }).addCase(push.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  reset\n} = bookSlice.actions;\nexport default bookSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","bookService","initialState","books","isLoading","isError","isSuccess","message","push","book","thunkAPI","token","getState","auth","user","error","response","data","toString","rejectWithValue","bookSlice","name","reducers","reset","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","actions","reducer"],"sources":["/home/oussama/Desktop/book-organizer/frontend/src/features/books/bookSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport bookService from \"../bookService\";\n\nconst initialState = {\n  books: \"\",\n  isLoading: false,\n  isError: false,\n  isSuccess: false,\n  message: \"\",\n};\n\nexport const push = createAsyncThunk(\"book/push\", async (book, thunkAPI) => {\n  try {\n    const token = thunkAPI.getState().auth.user.token;\n    return await bookService.push(book, token);\n  } catch (error) {\n    const message =\n      (error.response && error.response.data && error.response.message) ||\n      error.message ||\n      error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\n\nexport const bookSlice = createSlice({\n  name: \"book\",\n  initialState,\n  reducers: {\n    reset: () => initialState,\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(push.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(push.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.books.push(action.payload);\n      })\n      .addCase(push.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.message = action.payload;\n      });\n  },\n});\nexport const { reset } = bookSlice.actions;\nexport default bookSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EADY;EAEnBC,SAAS,EAAE,KAFQ;EAGnBC,OAAO,EAAE,KAHU;EAInBC,SAAS,EAAE,KAJQ;EAKnBC,OAAO,EAAE;AALU,CAArB;AAQA,OAAO,MAAMC,IAAI,GAAGR,gBAAgB,CAAC,WAAD,EAAc,OAAOS,IAAP,EAAaC,QAAb,KAA0B;EAC1E,IAAI;IACF,MAAMC,KAAK,GAAGD,QAAQ,CAACE,QAAT,GAAoBC,IAApB,CAAyBC,IAAzB,CAA8BH,KAA5C;IACA,OAAO,MAAMV,WAAW,CAACO,IAAZ,CAAiBC,IAAjB,EAAuBE,KAAvB,CAAb;EACD,CAHD,CAGE,OAAOI,KAAP,EAAc;IACd,MAAMR,OAAO,GACVQ,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeC,IAAjC,IAAyCF,KAAK,CAACC,QAAN,CAAeT,OAAzD,IACAQ,KAAK,CAACR,OADN,IAEAQ,KAAK,CAACG,QAAN,EAHF;IAIA,OAAOR,QAAQ,CAACS,eAAT,CAAyBZ,OAAzB,CAAP;EACD;AACF,CAXmC,CAA7B;AAaP,OAAO,MAAMa,SAAS,GAAGrB,WAAW,CAAC;EACnCsB,IAAI,EAAE,MAD6B;EAEnCnB,YAFmC;EAGnCoB,QAAQ,EAAE;IACRC,KAAK,EAAE,MAAMrB;EADL,CAHyB;EAMnCsB,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CACJC,OADH,CACWlB,IAAI,CAACmB,OADhB,EAC0BC,KAAD,IAAW;MAChCA,KAAK,CAACxB,SAAN,GAAkB,IAAlB;IACD,CAHH,EAIGsB,OAJH,CAIWlB,IAAI,CAACqB,SAJhB,EAI2B,CAACD,KAAD,EAAQE,MAAR,KAAmB;MAC1CF,KAAK,CAACxB,SAAN,GAAkB,KAAlB;MACAwB,KAAK,CAACtB,SAAN,GAAkB,IAAlB;MACAsB,KAAK,CAACzB,KAAN,CAAYK,IAAZ,CAAiBsB,MAAM,CAACC,OAAxB;IACD,CARH,EASGL,OATH,CASWlB,IAAI,CAACwB,QAThB,EAS0B,CAACJ,KAAD,EAAQE,MAAR,KAAmB;MACzCF,KAAK,CAACxB,SAAN,GAAkB,KAAlB;MACAwB,KAAK,CAACvB,OAAN,GAAgB,IAAhB;MACAuB,KAAK,CAACrB,OAAN,GAAgBuB,MAAM,CAACC,OAAvB;IACD,CAbH;EAcD;AArBkC,CAAD,CAA7B;AAuBP,OAAO,MAAM;EAAER;AAAF,IAAYH,SAAS,CAACa,OAA5B;AACP,eAAeb,SAAS,CAACc,OAAzB"},"metadata":{},"sourceType":"module"}